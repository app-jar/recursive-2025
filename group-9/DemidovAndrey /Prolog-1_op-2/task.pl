% Основной предикат: получить список простых чисел до N
primes_up_to(N, Primes) :-
    numlist(2, N, Numbers),      % Создаем список чисел от 2 до N
    include(prime, Numbers, Primes). % Фильтруем, оставляя только простые

% Проверка, является ли число простым
prime(2).                        % 2 - простое число
prime(3).                        % 3 - простое число
prime(N) :-
    integer(N), N > 3, 
    N mod 2 =\= 0,               % Простые числа (кроме 2) - нечетные
    not(has_divisor(N, 3)).      % Проверяем делители начиная с 3

% Проверка наличия делителей
has_divisor(N, D) :-
    D * D =< N,                  % Проверяем делители только до sqrt(N)
    (N mod D =:= 0               % Если делится без остатка - составное
    ; 
    D2 is D + 2,                 % Переходим к следующему нечетному делителю
    has_divisor(N, D2)).

% Запрос
primes_up_to(100, Primes).
